<!DOCTYPE html>
<html>
<head>
    <title>Journl</title>
    <style>
        :root {
            /* Default Theme - Light Mode */
            --default-light-text-color: #333333;
            --default-light-background-color: #f5f5f5;
            --default-light-container-background: #ffffff;
            --default-light-secondary-text: #666666;
            --default-light-border-color: #dddddd;
            --default-light-highlight-bg: #fef3c7;
            --default-light-highlight-border: #fbbf24;
            --default-light-button-bg: #e5e5e5;
            --default-light-button-active: #4bc67c;
            --default-light-tag-color: #10b981;
            --default-light-mention-color: #3b82f6;
            --default-light-button-hover: #348b57;

            /* Default Theme - Dark Mode */
            --default-dark-text-color: #ffffff;
            --default-dark-background-color: #1a1a1a;
            --default-dark-container-background: #2d2d2d;
            --default-dark-secondary-text: #cccccc;
            --default-dark-border-color: #404040;
            --default-dark-highlight-bg: #392e02;
            --default-dark-highlight-border: #8a6811;
            --default-dark-button-bg: #404040;
            --default-dark-button-active: #58319f;
            --default-dark-tag-color: #34d399;
            --default-dark-mention-color: #60a5fa;
            --default-dark-button-hover: #6d45b8;

            /* Cool Theme - Light Mode */
            --cool-light-text-color: #2c3e50;
            --cool-light-background-color: #ecf0f1;
            --cool-light-container-background: #ffffff;
            --cool-light-secondary-text: #7f8c8d;
            --cool-light-border-color: #bdc3c7;
            --cool-light-highlight-bg: #fef3c7;
            --cool-light-highlight-border: #fbbf24;
            --cool-light-button-bg: #3498db;
            --cool-light-button-active: #2980b9;
            --cool-light-tag-color: #27ae60;
            --cool-light-mention-color: #8e44ad;
            --cool-light-button-hover: #2980b9;

            /* Cool Theme - Dark Mode */
            --cool-dark-text-color: #bdc3c7;
            --cool-dark-background-color: #2c3e50;
            --cool-dark-container-background: #34495e;
            --cool-dark-secondary-text: #95a5a6;
            --cool-dark-border-color: #7f8c8d;
            --cool-dark-highlight-bg: #2980b9;
            --cool-dark-highlight-border: #3498db;
            --cool-dark-button-bg: #2980b9;
            --cool-dark-button-active: #3498db;
            --cool-dark-tag-color: #2ecc71;
            --cool-dark-mention-color: #9b59b6;
            --cool-dark-button-hover: #3498db;

            /* Journal Theme - Light Mode */
            --journal-light-text-color: #2d2d2d;
            --journal-light-background-color: #f7f7f7;
            --journal-light-container-background: #ffffff;
            --journal-light-secondary-text: #666666;
            --journal-light-border-color: #dddddd;
            --journal-light-highlight-bg: #392e02;
            --journal-light-highlight-border: #4a90e2;
            --journal-light-button-bg: #4a90e2;
            --journal-light-button-active: #357abd;
            --journal-light-tag-color: #34d399;
            --journal-light-mention-color: #60a5fa;
            --journal-light-button-hover: #357abd;
            
            /* Journal Theme - Dark Mode */
            --journal-dark-text-color: #e0e0e0;
            --journal-dark-background-color: #1a1a1a;
            --journal-dark-container-background: #2d2d2d;
            --journal-dark-secondary-text: #cccccc;
            --journal-dark-border-color: #404040;
            --journal-dark-highlight-bg: #1c3a5e;
            --journal-dark-highlight-border: #4a90e2;
            --journal-dark-button-bg: #4a90e2;
            --journal-dark-button-active: #357abd;
            --journal-dark-tag-color: #34d399;
            --journal-dark-mention-color: #60a5fa;
            --journal-dark-button-hover: #357abd;

            /* Typewriter Theme - Light Mode */
            --typewriter-light-text-color: #333333;
            --typewriter-light-background-color: #f4f1ea;
            --typewriter-light-container-background: #ffffff;
            --typewriter-light-secondary-text: #666666;
            --typewriter-light-border-color: #d3cdc4;
            --typewriter-light-highlight-bg: #f9e8d4;
            --typewriter-light-highlight-border: #8b4513;
            --typewriter-light-button-bg: #8b4513;
            --typewriter-light-button-active: #a0522d;
            --typewriter-light-tag-color: #34d399;
            --typewriter-light-mention-color: #60a5fa;
            --typewriter-light-button-hover: #a0522d;
            
            /* Typewriter Theme - Dark Mode */
            --typewriter-dark-text-color: #d4cfc9;
            --typewriter-dark-background-color: #1a1a1a;
            --typewriter-dark-container-background: #2d2d2d;
            --typewriter-dark-secondary-text: #cccccc;
            --typewriter-dark-border-color: #404040;
            --typewriter-dark-highlight-bg: #4a3600;
            --typewriter-dark-highlight-border: #8b4513;
            --typewriter-dark-button-bg: #8b4513;
            --typewriter-dark-button-active: #a0522d;
            --typewriter-dark-tag-color: #34d399;
            --typewriter-dark-mention-color: #60a5fa;
            --typewriter-dark-button-hover: #a0522d;

            /* Minimalist Theme - Light Mode */
            --minimalist-light-text-color: #000000;
            --minimalist-light-background-color: #ffffff;
            --minimalist-light-container-background: #fafafa;
            --minimalist-light-secondary-text: #666666;
            --minimalist-light-border-color: #dddddd;
            --minimalist-light-highlight-bg: #f5f5f5;
            --minimalist-light-highlight-border: #000000;
            --minimalist-light-button-bg: #000000;
            --minimalist-light-button-active: #333333;
            --minimalist-light-tag-color: #34d399;
            --minimalist-light-mention-color: #60a5fa;
            --minimalist-light-button-hover: #333333;
            
            /* Minimalist Theme - Dark Mode */
            --minimalist-dark-text-color: #ffffff;
            --minimalist-dark-background-color: #1a1a1a;
            --minimalist-dark-container-background: #2d2d2d;
            --minimalist-dark-secondary-text: #cccccc;
            --minimalist-dark-border-color: #404040;
            --minimalist-dark-highlight-bg: #333333;
            --minimalist-dark-highlight-border: #ffffff;
            --minimalist-dark-button-bg: #ffffff;
            --minimalist-dark-button-active: #e0e0e0;
            --minimalist-dark-tag-color: #34d399;
            --minimalist-dark-mention-color: #60a5fa;
            --minimalist-dark-button-hover: #e0e0e0;

            /* Nature Theme - Light Mode */
            --nature-light-text-color: #2c4a34;
            --nature-light-background-color: #f0f7f4;
            --nature-light-container-background: #ffffff;
            --nature-light-secondary-text: #4a7c59;
            --nature-light-border-color: #c5e1d1;
            --nature-light-highlight-bg: #e6f3ec;
            --nature-light-highlight-border: #4a7c59;
            --nature-light-button-bg: #4a7c59;
            --nature-light-button-active: #3d6548;
            --nature-light-tag-color: #34d399;
            --nature-light-mention-color: #60a5fa;
            --nature-light-button-hover: #3d6548;
            
            /* Nature Theme - Dark Mode */
            --nature-dark-text-color: #c5e1d1;
            --nature-dark-background-color: #1a1a1a;
            --nature-dark-container-background: #2d2d2d;
            --nature-dark-secondary-text: #cccccc;
            --nature-dark-border-color: #404040;
            --nature-dark-highlight-bg: #1c3326;
            --nature-dark-highlight-border: #4a7c59;
            --nature-dark-button-bg: #4a7c59;
            --nature-dark-button-active: #3d6548;
            --nature-dark-tag-color: #34d399;
            --nature-dark-mention-color: #60a5fa;
            --nature-dark-button-hover: #3d6548;

            /* Focus Theme - Light Mode */
            --focus-light-text-color: #1a1a1a;
            --focus-light-background-color: #fffbf4;
            --focus-light-container-background: #fff6e6;
            --focus-light-secondary-text: #666666;
            --focus-light-border-color: #ffd699;
            --focus-light-highlight-bg: #fff0cc;
            --focus-light-highlight-border: #ff9933;
            --focus-light-button-bg: #ff9933;
            --focus-light-button-active: #ffad5c;
            --focus-light-tag-color: #34d399;
            --focus-light-mention-color: #60a5fa;
            --focus-light-button-hover: #ffad5c;
            
            /* Focus Theme - Dark Mode */
            --focus-dark-text-color: #ffecd6;
            --focus-dark-background-color: #1a1a1a;
            --focus-dark-container-background: #2d2d2d;
            --focus-dark-secondary-text: #cccccc;
            --focus-dark-border-color: #404040;
            --focus-dark-highlight-bg: #4a3600;
            --focus-dark-highlight-border: #ff9933;
            --focus-dark-button-bg: #ff9933;
            --focus-dark-button-active: #ffad5c;
            --focus-dark-tag-color: #34d399;
            --focus-dark-mention-color: #60a5fa;
            --focus-dark-button-hover: #ffad5c;

            /* Ink Theme - Light Mode */
            --ink-light-text-color: #2b2b2b;
            --ink-light-background-color: #f8f8f8;
            --ink-light-container-background: #ffffff;
            --ink-light-secondary-text: #666666;
            --ink-light-border-color: #dddddd;
            --ink-light-highlight-bg: #f0f0f0;
            --ink-light-highlight-border: #4a4a4a;
            --ink-light-button-bg: #4a4a4a;
            --ink-light-button-active: #666666;
            --ink-light-tag-color: #34d399;
            --ink-light-mention-color: #60a5fa;
            --ink-light-button-hover: #666666;
            
            /* Ink Theme - Dark Mode */
            --ink-dark-text-color: #e6e6e6;
            --ink-dark-background-color: #1a1a1a;
            --ink-dark-container-background: #2d2d2d;
            --ink-dark-secondary-text: #cccccc;
            --ink-dark-border-color: #404040;
            --ink-dark-highlight-bg: #333333;
            --ink-dark-highlight-border: #666666;
            --ink-dark-button-bg: #4a4a4a;
            --ink-dark-button-active: #666666;
            --ink-dark-tag-color: #34d399;
            --ink-dark-mention-color: #60a5fa;
            --ink-dark-button-hover: #666666;

            /* Zen Theme - Light Mode */
            --zen-light-text-color: #4a4a4a;
            --zen-light-background-color: #f5f5f5;
            --zen-light-container-background: #ffffff;
            --zen-light-secondary-text: #666666;
            --zen-light-border-color: #dddddd;
            --zen-light-highlight-bg: #f0f0f0;
            --zen-light-highlight-border: #7c7c7c;
            --zen-light-button-bg: #7c7c7c;
            --zen-light-button-active: #999999;
            --zen-light-tag-color: #34d399;
            --zen-light-mention-color: #60a5fa;
            --zen-light-button-hover: #999999;
            
            /* Zen Theme - Dark Mode */
            --zen-dark-text-color: #d9d9d9;
            --zen-dark-background-color: #1a1a1a;
            --zen-dark-container-background: #2d2d2d;
            --zen-dark-secondary-text: #cccccc;
            --zen-dark-border-color: #404040;
            --zen-dark-highlight-bg: #333333;
            --zen-dark-highlight-border: #7c7c7c;
            --zen-dark-button-bg: #7c7c7c;
            --zen-dark-button-active: #999999;
            --zen-dark-tag-color: #34d399;
            --zen-dark-mention-color: #60a5fa;
            --zen-dark-button-hover: #999999;

            /* Vintage Theme - Light Mode */
            --vintage-light-text-color: #4a3c31;
            --vintage-light-background-color: #f8f3e9;
            --vintage-light-container-background: #fff9f0;
            --vintage-light-secondary-text: #8b735a;
            --vintage-light-border-color: #d6c7b8;
            --vintage-light-highlight-bg: #f5e6d3;
            --vintage-light-highlight-border: #8b735a;
            --vintage-light-button-bg: #8b735a;
            --vintage-light-button-active: #a68b6e;
            --vintage-light-tag-color: #34d399;
            --vintage-light-mention-color: #60a5fa;
            --vintage-light-button-hover: #a68b6e;
            
            /* Vintage Theme - Dark Mode */
            --vintage-dark-text-color: #d6c7b8;
            --vintage-dark-background-color: #1a1a1a;
            --vintage-dark-container-background: #2d2d2d;
            --vintage-dark-secondary-text: #cccccc;
            --vintage-dark-border-color: #404040;
            --vintage-dark-highlight-bg: #4a3600;
            --vintage-dark-highlight-border: #8b735a;
            --vintage-dark-button-bg: #8b735a;
            --vintage-dark-button-active: #a68b6e;
            --vintage-dark-tag-color: #34d399;
            --vintage-dark-mention-color: #60a5fa;
            --vintage-dark-button-hover: #a68b6e;

            /* Sepia Theme */
            --sepia-light-text-color: #5b4636;
            --sepia-light-background-color: #f4ecd8;
            --sepia-light-container-background: #fbf0d9;
            --sepia-light-secondary-text: #8b735a;
            --sepia-light-border-color: #c19a6b;
            --sepia-light-highlight-bg: #f9e8d4;
            --sepia-light-highlight-border: #c19a6b;
            --sepia-light-button-bg: #c19a6b;
            --sepia-light-button-active: #a67c52;
            --sepia-light-tag-color: #34d399;
            --sepia-light-mention-color: #60a5fa;
            --sepia-light-button-hover: #a67c52;

            --sepia-dark-text-color: #d3c4a9;
            --sepia-dark-background-color: #433422;
            --sepia-dark-container-background: #2c2417;
            --sepia-dark-secondary-text: #cccccc;
            --sepia-dark-border-color: #404040;
            --sepia-dark-highlight-bg: #4a3600;
            --sepia-dark-highlight-border: #8b6b4a;
            --sepia-dark-button-bg: #8b6b4a;
            --sepia-dark-button-active: #6d5438;
            --sepia-dark-tag-color: #34d399;
            --sepia-dark-mention-color: #60a5fa;
            --sepia-dark-button-hover: #6d5438;

            /* Cool Theme */
            --cool-light-text-color: #2c3e50;
            --cool-light-background-color: #ecf0f1;
            --cool-light-container-background: #ffffff;
            --cool-light-secondary-text: #666666;
            --cool-light-border-color: #bdc3c7;
            --cool-light-highlight-bg: #e8f6fe;
            --cool-light-highlight-border: #3498db;
            --cool-light-button-bg: #3498db;
            --cool-light-button-active: #2980b9;
            --cool-light-tag-color: #34d399;
            --cool-light-mention-color: #60a5fa;
            --cool-light-button-hover: #2980b9;

            --cool-dark-text-color: #bdc3c7;
            --cool-dark-background-color: #2c3e50;
            --cool-dark-container-background: #34495e;
            --cool-dark-secondary-text: #cccccc;
            --cool-dark-border-color: #404040;
            --cool-dark-highlight-bg: #4a3600;
            --cool-dark-highlight-border: #2980b9;
            --cool-dark-button-bg: #2980b9;
            --cool-dark-button-active: #3498db;
            --cool-dark-tag-color: #34d399;
            --cool-dark-mention-color: #60a5fa;
            --cool-dark-button-hover: #3498db;

            /* Terminal Theme */
            --terminal-light-text-color: #59b822;
            --terminal-light-background-color: #0e290e;
            --terminal-light-container-background: #0c2108;
            --terminal-light-secondary-text: #45891a;
            --terminal-light-border-color: #13451a;
            --terminal-light-highlight-bg: #0f3c0f;
            --terminal-light-highlight-border: #59b822;
            --terminal-light-button-bg: #13451a;
            --terminal-light-button-active: #186d1d;
            --terminal-light-tag-color: #34d399;
            --terminal-light-mention-color: #60a5fa;
            --terminal-light-button-hover: #186d1d;

            --terminal-dark-text-color: #c20000;
            --terminal-dark-background-color: #000000;
            --terminal-dark-container-background: #320000;
            --terminal-dark-secondary-text: #cccccc;
            --terminal-dark-border-color: #404040;
            --terminal-dark-highlight-bg: #4a0000;
            --terminal-dark-highlight-border: #c20000;
            --terminal-dark-button-bg: #000000;
            --terminal-dark-button-active: #690000;
            --terminal-dark-tag-color: #34d399;
            --terminal-dark-mention-color: #60a5fa;
            --terminal-dark-button-hover: #690000;

            /* Forest Theme */
            --forest-light-text-color: #2c4a34;
            --forest-light-background-color: #f0f7e6;
            --forest-light-container-background: #dce8c9;
            --forest-light-secondary-text: #666666;
            --forest-light-border-color: #5c8b57;
            --forest-light-highlight-bg: #e6f0d9;
            --forest-light-highlight-border: #5c8b57;
            --forest-light-button-bg: #5c8b57;
            --forest-light-button-active: #7aa874;
            --forest-light-tag-color: #34d399;
            --forest-light-mention-color: #60a5fa;
            --forest-light-button-hover: #7aa874;

            --forest-dark-text-color: #c1d9b8;
            --forest-dark-background-color: #1a2718;
            --forest-dark-container-background: #2c4a34;
            --forest-dark-secondary-text: #cccccc;
            --forest-dark-border-color: #404040;
            --forest-dark-highlight-bg: #4a3600;
            --forest-dark-highlight-border: #5c8b57;
            --forest-dark-button-bg: #5c8b57;
            --forest-dark-button-active: #7aa874;
            --forest-dark-tag-color: #34d399;
            --forest-dark-mention-color: #60a5fa;
            --forest-dark-button-hover: #7aa874;

            /* Ocean Theme */
            --ocean-light-text-color: #1a4b6e;
            --ocean-light-background-color: #f0f9ff;
            --ocean-light-container-background: #e1f2fe;
            --ocean-light-secondary-text: #2e8bc0;
            --ocean-light-border-color: #40a1d8;
            --ocean-light-highlight-bg: #e1f2fe;
            --ocean-light-highlight-border: #2e8bc0;
            --ocean-light-button-bg: #2e8bc0;
            --ocean-light-button-active: #40a1d8;
            --ocean-light-tag-color: #34d399;
            --ocean-light-mention-color: #60a5fa;
            --ocean-light-button-hover: #40a1d8;

            --ocean-dark-text-color: #b8e3ff;
            --ocean-dark-background-color: #0a2133;
            --ocean-dark-container-background: #1a4b6e;
            --ocean-dark-secondary-text: #cccccc;
            --ocean-dark-border-color: #404040;
            --ocean-dark-highlight-bg: #1a4b6e;
            --ocean-dark-highlight-border: #2e8bc0;
            --ocean-dark-button-bg: #2e8bc0;
            --ocean-dark-button-active: #40a1d8;
            --ocean-dark-tag-color: #34d399;
            --ocean-dark-mention-color: #60a5fa;
            --ocean-dark-button-hover: #40a1d8;

            /* Lavender Theme */
            --lavender-light-text-color: #4a3b63;
            --lavender-light-background-color: #f9f6ff;
            --lavender-light-container-background: #efe8ff;
            --lavender-light-secondary-text: #8c72cb;
            --lavender-light-border-color: #a08fd8;
            --lavender-light-highlight-bg: #efe8ff;
            --lavender-light-highlight-border: #8c72cb;
            --lavender-light-button-bg: #8c72cb;
            --lavender-light-button-active: #a08fd8;
            --lavender-light-tag-color: #34d399;
            --lavender-light-mention-color: #60a5fa;
            --lavender-light-button-hover: #a08fd8;

            --lavender-dark-text-color: #e0d6ff;
            --lavender-dark-background-color: #1d1736;
            --lavender-dark-container-background: #4a3b63;
            --lavender-dark-secondary-text: #cccccc;
            --lavender-dark-border-color: #404040;
            --lavender-dark-highlight-bg: #4a3b63;
            --lavender-dark-highlight-border: #8c72cb;
            --lavender-dark-button-bg: #8c72cb;
            --lavender-dark-button-active: #a08fd8;
            --lavender-dark-tag-color: #34d399;
            --lavender-dark-mention-color: #60a5fa;
            --lavender-dark-button-hover: #a08fd8;

            /* Cherry Theme */
            --cherry-light-text-color: #814759;
            --cherry-light-background-color: #fff5f8;
            --cherry-light-container-background: #ffe1eb;
            --cherry-light-secondary-text: #ff8ba7;
            --cherry-light-border-color: #ffb5c7;
            --cherry-light-highlight-bg: #ffe1eb;
            --cherry-light-highlight-border: #ff8ba7;
            --cherry-light-button-bg: #ff8ba7;
            --cherry-light-button-active: #ffb5c7;
            --cherry-light-tag-color: #34d399;
            --cherry-light-mention-color: #60a5fa;
            --cherry-light-button-hover: #ffb5c7;

            --cherry-dark-text-color: #ffd6e0;
            --cherry-dark-background-color: #2b1820;
            --cherry-dark-container-background: #814759;
            --cherry-dark-secondary-text: #cccccc;
            --cherry-dark-border-color: #404040;
            --cherry-dark-highlight-bg: #814759;
            --cherry-dark-highlight-border: #ff8ba7;
            --cherry-dark-button-bg: #ff8ba7;
            --cherry-dark-button-active: #ffb5c7;
            --cherry-dark-tag-color: #34d399;
            --cherry-dark-mention-color: #60a5fa;
            --cherry-dark-button-hover: #ffb5c7;

            /* Galaxy Theme */
            --galaxy-light-text-color: #2d2357;
            --galaxy-light-background-color: #f5f3ff;
            --galaxy-light-container-background: #e6e0ff;
            --galaxy-light-secondary-text: #7b4fff;
            --galaxy-light-border-color: #9775ff;
            --galaxy-light-highlight-bg: #e6e0ff;
            --galaxy-light-highlight-border: #7b4fff;
            --galaxy-light-button-bg: #7b4fff;
            --galaxy-light-button-active: #9775ff;
            --galaxy-light-tag-color: #34d399;
            --galaxy-light-mention-color: #60a5fa;
            --galaxy-light-button-hover: #9775ff;

            --galaxy-dark-text-color: #d1c4ff;
            --galaxy-dark-background-color: #0f0b26;
            --galaxy-dark-container-background: #2d2357;
            --galaxy-dark-secondary-text: #cccccc;
            --galaxy-dark-border-color: #404040;
            --galaxy-dark-highlight-bg: #2d2357;
            --galaxy-dark-highlight-border: #7b4fff;
            --galaxy-dark-button-bg: #7b4fff;
            --galaxy-dark-button-active: #9775ff;
            --galaxy-dark-tag-color: #34d399;
            --galaxy-dark-mention-color: #60a5fa;
            --galaxy-dark-button-hover: #9775ff;

            /* Bubblegum Theme */
            --bubblegum-light-text-color: #ff1493;
            --bubblegum-light-background-color: #ffeeff;
            --bubblegum-light-container-background: #ffccff;
            --bubblegum-light-secondary-text: #ff69b4;
            --bubblegum-light-border-color: #ff8ac1;
            --bubblegum-light-highlight-bg: #ffccff;
            --bubblegum-light-highlight-border: #ff69b4;
            --bubblegum-light-button-bg: #ff69b4;
            --bubblegum-light-button-active: #ff8ac1;
            --bubblegum-light-tag-color: #34d399;
            --bubblegum-light-mention-color: #60a5fa;
            --bubblegum-light-button-hover: #ff8ac1;

            --bubblegum-dark-text-color: #ff8ac1;
            --bubblegum-dark-background-color: #660066;
            --bubblegum-dark-container-background: #990099;
            --bubblegum-dark-secondary-text: #cccccc;
            --bubblegum-dark-border-color: #404040;
            --bubblegum-dark-highlight-bg: #990099;
            --bubblegum-dark-highlight-border: #ff1493;
            --bubblegum-dark-button-bg: #ff1493;
            --bubblegum-dark-button-active: #ff69b4;
            --bubblegum-dark-tag-color: #34d399;
            --bubblegum-dark-mention-color: #60a5fa;
            --bubblegum-dark-button-hover: #ff69b4;

            /* Zombie Theme */
            --zombie-light-text-color: #3d6e3d;
            --zombie-light-background-color: #e6ffe6;
            --zombie-light-container-background: #ccffcc;
            --zombie-light-secondary-text: #8b0000;
            --zombie-light-border-color: #98fb98;
            --zombie-light-highlight-bg: #ccffcc;
            --zombie-light-highlight-border: #8b0000;
            --zombie-light-button-bg: #8b0000;
            --zombie-light-button-active: #a52a2a;
            --zombie-light-tag-color: #34d399;
            --zombie-light-mention-color: #60a5fa;
            --zombie-light-button-hover: #a52a2a;

            --zombie-dark-text-color: #98fb98;
            --zombie-dark-background-color: #1a331a;
            --zombie-dark-container-background: #2d4d2d;
            --zombie-dark-secondary-text: #cccccc;
            --zombie-dark-border-color: #404040;
            --zombie-dark-highlight-bg: #2d4d2d;
            --zombie-dark-highlight-border: #8b0000;
            --zombie-dark-button-bg: #8b0000;
            --zombie-dark-button-active: #a52a2a;
            --zombie-dark-tag-color: #34d399;
            --zombie-dark-mention-color: #60a5fa;
            --zombie-dark-button-hover: #a52a2a;

            /* Unicorn Theme */
            --unicorn-light-text-color: #ff1493;
            --unicorn-light-background-color: #e6e6ff;
            --unicorn-light-container-background: #ffccff;
            --unicorn-light-secondary-text: #8a2be2;
            --unicorn-light-border-color: linear-gradient(to right, violet, indigo, blue, green, yellow, orange, red);
            --unicorn-light-highlight-bg: #ffccff;
            --unicorn-light-highlight-border: #8a2be2;
            --unicorn-light-button-bg: #8a2be2;
            --unicorn-light-button-active: #9400d3;
            --unicorn-light-tag-color: #34d399;
            --unicorn-light-mention-color: #60a5fa;
            --unicorn-light-button-hover: #9400d3;

            --unicorn-dark-text-color: #00ffff;
            --unicorn-dark-background-color: #4b0082;
            --unicorn-dark-container-background: #8b008b;
            --unicorn-dark-secondary-text: #cccccc;
            --unicorn-dark-border-color: linear-gradient(to right, violet, indigo, blue, green, yellow, orange, red);
            --unicorn-dark-highlight-bg: #8b008b;
            --unicorn-dark-highlight-border: #ff69b4;
            --unicorn-dark-button-bg: #ff69b4;
            --unicorn-dark-button-active: #ff1493;
            --unicorn-dark-tag-color: #34d399;
            --unicorn-dark-mention-color: #60a5fa;
            --unicorn-dark-button-hover: #ff1493;

            /* Neon Theme */
            --neon-light-text-color: #ff00ff;
            --neon-light-background-color: #1a1a2e;
            --neon-light-container-background: #16213e;
            --neon-light-secondary-text: #00ffff;
            --neon-light-border-color: #ff00ff;
            --neon-light-highlight-bg: #16213e;
            --neon-light-highlight-border: #00ffff;
            --neon-light-button-bg: #00ffff;
            --neon-light-button-active: #00f7ff;
            --neon-light-tag-color: #34d399;
            --neon-light-mention-color: #60a5fa;
            --neon-light-button-hover: #00f7ff;

            --neon-dark-text-color: #0fff0f;
            --neon-dark-background-color: #000000;
            --neon-dark-container-background: #0a0a0a;
            --neon-dark-secondary-text: #cccccc;
            --neon-dark-border-color: #00ffff;
            --neon-dark-highlight-bg: #0a0a0a;
            --neon-dark-highlight-border: #ff00ff;
            --neon-dark-button-bg: #ff00ff;
            --neon-dark-button-active: #ff33ff;
            --neon-dark-tag-color: #34d399;
            --neon-dark-mention-color: #60a5fa;
            --neon-dark-button-hover: #ff33ff;

            /* Classic B&W Theme */
            --mono-classic-light-text-color: #000000;
            --mono-classic-light-background-color: #ffffff;
            --mono-classic-light-container-background: #f0f0f0;
            --mono-classic-light-secondary-text: #333333;
            --mono-classic-light-border-color: #000000;
            --mono-classic-light-highlight-bg: #f0f0f0;
            --mono-classic-light-highlight-border: #000000;
            --mono-classic-light-button-bg: #000000;
            --mono-classic-light-button-active: #333333;
            --mono-classic-light-tag-color: #34d399;
            --mono-classic-light-mention-color: #60a5fa;
            --mono-classic-light-button-hover: #333333;

            --mono-classic-dark-text-color: #ffffff;
            --mono-classic-dark-background-color: #000000;
            --mono-classic-dark-container-background: #1a1a1a;
            --mono-classic-dark-secondary-text: #cccccc;
            --mono-classic-dark-border-color: #ffffff;
            --mono-classic-dark-highlight-bg: #1a1a1a;
            --mono-classic-dark-highlight-border: #ffffff;
            --mono-classic-dark-button-bg: #ffffff;
            --mono-classic-dark-button-active: #e0e0e0;
            --mono-classic-dark-tag-color: #34d399;
            --mono-classic-dark-mention-color: #60a5fa;
            --mono-classic-dark-button-hover: #e0e0e0;

            /* GX Theme */
            --gx-light-text-color: #333;
            --gx-light-background-color: #ffffe7;
            --gx-light-container-background: #f0f0f0;
            --gx-light-secondary-text: #666666;
            --gx-light-border-color: #273457;
            --gx-light-highlight-bg: #ffffe7;
            --gx-light-highlight-border: #273457;
            --gx-light-button-bg: #273457;
            --gx-light-button-active: #bb5e47;
            --gx-light-tag-color: #34d399;
            --gx-light-mention-color: #60a5fa;
            --gx-light-button-hover: #bb5e47;

            --gx-dark-text-color: #ffffe7;
            --gx-dark-background-color: #16213d;
            --gx-dark-container-background: #273457;
            --gx-dark-secondary-text: #cccccc;
            --gx-dark-border-color: #bb5e47;
            --gx-dark-highlight-bg: #273457;
            --gx-dark-highlight-border: #bb5e47;
            --gx-dark-button-bg: #bb5e47;
            --gx-dark-button-active: #d67a63;
            --gx-dark-tag-color: #34d399;
            --gx-dark-mention-color: #60a5fa;
            --gx-dark-button-hover: #d67a63;

            /* Honeybee Theme */
            --honeybee-light-text-color: #4b3b2c;
            --honeybee-light-background-color: #fff7e6;
            --honeybee-light-container-background: #ffedb3;
            --honeybee-light-secondary-text: #666666;
            --honeybee-light-border-color: #ffa600;
            --honeybee-light-highlight-bg: #ffedb3;
            --honeybee-light-highlight-border: #ffa600;
            --honeybee-light-button-bg: #ffa600;
            --honeybee-light-button-active: #ffb730;
            --honeybee-light-tag-color: #34d399;
            --honeybee-light-mention-color: #60a5fa;
            --honeybee-light-button-hover: #ffb730;

            --honeybee-dark-text-color: #ffd700;
            --honeybee-dark-background-color: #1a1a1a;
            --honeybee-dark-container-background: #332200;
            --honeybee-dark-secondary-text: #cccccc;
            --honeybee-dark-border-color: #ffd700;
            --honeybee-dark-highlight-bg: #332200;
            --honeybee-dark-highlight-border: #ffd700;
            --honeybee-dark-button-bg: #ffd700;
            --honeybee-dark-button-active: #ffed4a;
            --honeybee-dark-tag-color: #34d399;
            --honeybee-dark-mention-color: #60a5fa;
            --honeybee-dark-button-hover: #ffed4a;

            /* Mint Theme */
            --mint-light-text-color: #1d4d4f;
            --mint-light-background-color: #f2fffd;
            --mint-light-container-background: #e0f5f1;
            --mint-light-secondary-text: #666666;
            --mint-light-border-color: #4fb3a9;
            --mint-light-highlight-bg: #e0f5f1;
            --mint-light-highlight-border: #4fb3a9;
            --mint-light-button-bg: #4fb3a9;
            --mint-light-button-active: #65c7bd;
            --mint-light-tag-color: #34d399;
            --mint-light-mention-color: #60a5fa;
            --mint-light-button-hover: #65c7bd;

            --mint-dark-text-color: #b8ede7;
            --mint-dark-background-color: #0a2728;
            --mint-dark-container-background: #1d4d4f;
            --mint-dark-secondary-text: #cccccc;
            --mint-dark-border-color: #4fb3a9;
            --mint-dark-highlight-bg: #1d4d4f;
            --mint-dark-highlight-border: #4fb3a9;
            --mint-dark-button-bg: #4fb3a9;
            --mint-dark-button-active: #65c7bd;
            --mint-dark-tag-color: #34d399;
            --mint-dark-mention-color: #60a5fa;
            --mint-dark-button-hover: #65c7bd;

            /* Coffee Theme */
            --coffee-light-text-color: #4a3525;
            --coffee-light-background-color: #fff9f5;
            --coffee-light-container-background: #f2e2d3;
            --coffee-light-secondary-text: #8b593e;
            --coffee-light-border-color: #8b593e;
            --coffee-light-highlight-bg: #f2e2d3;
            --coffee-light-highlight-border: #8b593e;
            --coffee-light-button-bg: #8b593e;
            --coffee-light-button-active: #a66f51;
            --coffee-light-tag-color: #34d399;
            --coffee-light-mention-color: #60a5fa;
            --coffee-light-button-hover: #a66f51;

            --coffee-dark-text-color: #d9b99b;
            --coffee-dark-background-color: #1a0f0a;
            --coffee-dark-container-background: #4a3525;
            --coffee-dark-secondary-text: #cccccc;
            --coffee-dark-border-color: #8b593e;
            --coffee-dark-highlight-bg: #4a3525;
            --coffee-dark-highlight-border: #8b593e;
            --coffee-dark-button-bg: #8b593e;
            --coffee-dark-button-active: #a66f51;
            --coffee-dark-tag-color: #34d399;
            --coffee-dark-mention-color: #60a5fa;
            --coffee-dark-button-hover: #a66f51;

            /* Arctic Theme */
            --arctic-light-text-color: #394655;
            --arctic-light-background-color: #f8faff;
            --arctic-light-container-background: #edf2fc;
            --arctic-light-secondary-text: #6d90b9;
            --arctic-light-border-color: #6d90b9;
            --arctic-light-highlight-bg: #edf2fc;
            --arctic-light-highlight-border: #6d90b9;
            --arctic-light-button-bg: #6d90b9;
            --arctic-light-button-active: #89a7c8;
            --arctic-light-tag-color: #34d399;
            --arctic-light-mention-color: #60a5fa;
            --arctic-light-button-hover: #89a7c8;

            --arctic-dark-text-color: #c5d5e9;
            --arctic-dark-background-color: #1a1f26;
            --arctic-dark-container-background: #394655;
            --arctic-dark-secondary-text: #cccccc;
            --arctic-dark-border-color: #6d90b9;
            --arctic-dark-highlight-bg: #394655;
            --arctic-dark-highlight-border: #6d90b9;
            --arctic-dark-button-bg: #6d90b9;
            --arctic-dark-button-active: #89a7c8;
            --arctic-dark-tag-color: #34d399;
            --arctic-dark-mention-color: #60a5fa;
            --arctic-dark-button-hover: #89a7c8;

            /* Desert Theme */
            --desert-light-text-color: #6b4423;
            --desert-light-background-color: #fff8ec;
            --desert-light-container-background: #f5e6d3;
            --desert-light-secondary-text: #c17f59;
            --desert-light-border-color: #c17f59;
            --desert-light-highlight-bg: #f5e6d3;
            --desert-light-highlight-border: #c17f59;
            --desert-light-button-bg: #c17f59;
            --desert-light-button-active: #d4997a;
            --desert-light-tag-color: #34d399;
            --desert-light-mention-color: #60a5fa;
            --desert-light-button-hover: #d4997a;

            --desert-dark-text-color: #ffd7bc;
            --desert-dark-background-color: #251811;
            --desert-dark-container-background: #6b4423;
            --desert-dark-secondary-text: #cccccc;
            --desert-dark-border-color: #c17f59;
            --desert-dark-highlight-bg: #6b4423;
            --desert-dark-highlight-border: #c17f59;
            --desert-dark-button-bg: #c17f59;
            --desert-dark-button-active: #d4997a;
            --desert-dark-tag-color: #34d399;
            --desert-dark-mention-color: #60a5fa;
            --desert-dark-button-hover: #d4997a;

            /* Retro Theme */
            --retro-light-text-color: #000000;
            --retro-light-background-color: #c0ffee;
            --retro-light-container-background: #90ee90;
            --retro-light-secondary-text: #666666;
            --retro-light-border-color: #000000;
            --retro-light-highlight-bg: #90ee90;
            --retro-light-highlight-border: #ff4500;
            --retro-light-button-bg: #ff4500;
            --retro-light-button-active: #ff6347;
            --retro-light-tag-color: #34d399;
            --retro-light-mention-color: #60a5fa;
            --retro-light-button-hover: #ff6347;

            --retro-dark-text-color: #00ff00;
            --retro-dark-background-color: #000000;
            --retro-dark-container-background: #1a1a1a;
            --retro-dark-secondary-text: #cccccc;
            --retro-dark-border-color: #00ff00;
            --retro-dark-highlight-bg: #1a1a1a;
            --retro-dark-highlight-border: #ff0000;
            --retro-dark-button-bg: #ff0000;
            --retro-dark-button-active: #ff4500;
            --retro-dark-tag-color: #34d399;
            --retro-dark-mention-color: #60a5fa;
            --retro-dark-button-hover: #ff4500;

            /* Alien Theme */
            --alien-light-text-color: #39ff14;
            --alien-light-background-color: #f0fff0;
            --alien-light-container-background: #ccffcc;
            --alien-light-secondary-text: #666666;
            --alien-light-border-color: #6a5acd;
            --alien-light-highlight-bg: #ccffcc;
            --alien-light-highlight-border: #6a5acd;
            --alien-light-button-bg: #6a5acd;
            --alien-light-button-active: #836fff;
            --alien-light-tag-color: #34d399;
            --alien-light-mention-color: #60a5fa;
            --alien-light-button-hover: #836fff;

            --alien-dark-text-color: #39ff14;
            --alien-dark-background-color: #0a0a0a;
            --alien-dark-container-background: #1f1f1f;
            --alien-dark-secondary-text: #cccccc;
            --alien-dark-border-color: #9400d3;
            --alien-dark-highlight-bg: #1f1f1f;
            --alien-dark-highlight-border: #9400d3;
            --alien-dark-button-bg: #9400d3;
            --alien-dark-button-active: #8a2be2;
            --alien-dark-tag-color: #34d399;
            --alien-dark-mention-color: #60a5fa;
            --alien-dark-button-hover: #8a2be2;

            /* Playschool Theme */
            --playschool-light-text-color: #2B3467;
            --playschool-light-background-color: #FFFAA0;
            --playschool-light-container-background: #FFF677;
            --playschool-light-secondary-text: #666666;
            --playschool-light-border-color: #4D96FF;
            --playschool-light-highlight-bg: #FFF677;
            --playschool-light-highlight-border: #FF6B6B;
            --playschool-light-button-bg: #FF6B6B;
            --playschool-light-button-active: #FF8E8E;
            --playschool-light-tag-color: #34d399;
            --playschool-light-mention-color: #60a5fa;
            --playschool-light-button-hover: #FF8E8E;

            --playschool-dark-text-color: #FFE15D;
            --playschool-dark-background-color: #4D96FF;
            --playschool-dark-container-background: #6BA6FF;
            --playschool-dark-secondary-text: #cccccc;
            --playschool-dark-border-color: #FFE15D;
            --playschool-dark-highlight-bg: #6BA6FF;
            --playschool-dark-highlight-border: #FF6B6B;
            --playschool-dark-button-bg: #FF6B6B;
            --playschool-dark-button-active: #FF8E8E;
            --playschool-dark-tag-color: #34d399;
            --playschool-dark-mention-color: #60a5fa;
            --playschool-dark-button-hover: #FF8E8E;

            /* Sunset Theme */
            --sunset-light-text-color: #78340f;
            --sunset-light-background-color: #fff9f5;
            --sunset-light-container-background: #ffe8d6;
            --sunset-light-secondary-text: #ff6b35;
            --sunset-light-border-color: #ff6b35;
            --sunset-light-highlight-bg: #ffe8d6;
            --sunset-light-highlight-border: #ff6b35;
            --sunset-light-button-bg: #ff6b35;
            --sunset-light-button-active: #ff855e;
            --sunset-light-tag-color: #34d399;
            --sunset-light-mention-color: #60a5fa;
            --sunset-light-button-hover: #ff855e;

            --sunset-dark-text-color: #ffc4b0;
            --sunset-dark-background-color: #2b1810;
            --sunset-dark-container-background: #78340f;
            --sunset-dark-secondary-text: #cccccc;
            --sunset-dark-border-color: #ff6b35;
            --sunset-dark-highlight-bg: #78340f;
            --sunset-dark-highlight-border: #ff6b35;
            --sunset-dark-button-bg: #ff6b35;
            --sunset-dark-button-active: #ff855e;
            --sunset-dark-tag-color: #34d399;
            --sunset-dark-mention-color: #60a5fa;
            --sunset-dark-button-hover: #ff855e;
        }

        /* Core styles */
        body {
            background: var(--background-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.5;
            transition: background-color 0.3s, color 0.3s;
        }

        body a:link, body a:visited {
            color: var(--default-text-color);
            transition: color 0.3s ease, color 0.3s ease;
        }

        body a:hover {
            color: var(--link-hover-color);
            transition: color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--container-background);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
        }

        /* Header styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .nav {
            display: flex;
            gap: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: var(--button-bg);
            color: var(--button-text-hover);
            transition: background-color 0.2s;
        }

        .nav-button.active {
            background: var(--button-active);
            color: white;
        }

        .nav-button:hover {
            background: var(--button-hover);
        }

        /* Search bar styles */
        .search-container {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 10px 10px 10px 40px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
            background: var(--container-background);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-text);
        }

        /* Entry input styles */
        .entry-input {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-family: inherit;
            font-size: 16px;
            box-sizing: border-box;
            resize: vertical;
            background: var(--container-background);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        /* Entry styles */
        .entry {
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--container-background);
            transition: background-color 0.3s;
        }

        .entry.highlight {
            border-color: var(--highlight-border);
            background: var(--highlight-bg);
        }

        .entry-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 8px;
            gap: 8px;
        }

        .timestamp {
            color: var(--secondary-text);
            font-size: 14px;
        }

        .title {
            font-weight: bold;
            font-size: 1.1em;
            flex-grow: 1;
        }

        .entry-actions {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .star-button, .edit-button, .delete-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            color: var(--secondary-text);
            font-size: 16px;
            transition: color 0.2s;
        }

        .star-button:hover, .edit-button:hover, .delete-button:hover {
            color: var(--text-color);
        }

        .star-button.active {
            color: var(--highlight-border);
        }

        .edit-button:hover {
            color: var(--button-active);
        }

        .delete-button:hover {
            color: #dc2626;
        }

        .entry-content {
            white-space: pre-wrap;
        }

        .tag {
            color: var(--tag-color);
        }

        .mention {
            color: var(--mention-color);
        }

        /* Stats styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .stat-card {
            padding: 16px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--container-background);
            transition: background-color 0.3s;
        }

        .stat-title {
            font-size: 14px;
            color: var(--secondary-text);
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--text-color);
        }

        /* Theme popup styles */
        .theme-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--container-background);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            min-width: 300px;
        }

        .theme-popup h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .theme-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .theme-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .theme-row label {
            min-width: 80px;
        }

        .theme-row select {
            flex-grow: 1;
            padding: 5px;
            border-radius: 4px;
            background: var(--container-background);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .close-popup {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 18px;
            color: var(--text-color);
        }

        /* Import Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            background: var(--container-background);
            color: var(--text-color);
            margin: 15% auto;
            padding: 20px;
            width: 70%;
            max-width: 500px;
            border-radius: 8px;
            position: relative;
        }

        .modal textarea {
            width: 100%;
            height: 200px;
            margin: 10px 0;
            padding: 10px;
            background: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-family: inherit;
            resize: vertical;
        }

        select.nav-button {
            cursor: pointer;
            background: var(--button-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            transition: background-color 0.3s, color 0.3s;
        }

        /* Menu styles */
        .menu-container {
            position: relative;
            display: inline-block;
        }

        .menu-content {
            display: none;
            position: absolute;
            right: 0;
            background: var(--container-background);
            min-width: 160px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            border-radius: 4px;
            z-index: 1000;
        }

        .menu-content button {
            width: 100%;
            text-align: left;
            padding: 12px 16px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            margin: 0;
            transition: background-color 0.2s;
        }

        .menu-content button:hover {
            background-color: var(--button-hover);
        }

        .show {
            display: block;
        }

        /* Footer styles */
        footer {
            border-top: 1px solid var(--column-color);
            text-align: right;
            font-size: 0.8em;
            vertical-align: middle;
            position: fixed;
            bottom: 0;
            margin-top: 40px;
            left: 10%;
            right: 0;
            padding: 10px 20px;
            width: 80%;
            transition: opacity 0.3s;
            opacity: 1;
            background-color: var(--background-color);
        }
        footer:hover {
            opacity: 1;
        }

        footer a {
            color: var(--text-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        #fileInput {
            display: none;
        }
        .offline-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4a4a4a;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container" style="margin-bottom: 70px;">
        <!-- Header -->
        <div class="header">
            <h1>Journl</h1>
            <div class="nav">
                <button class="nav-button" onclick="openThemePopup()">Theme</button>
                <select id="sortSelect" class="nav-button">
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                    <option value="longest">Longest First</option>
                    <option value="shortest">Shortest First</option>
                </select>
                <button class="nav-button active" onclick="switchView('entries')" id="entriesButton">Entries</button>
                <button class="nav-button" onclick="switchView('stats')" id="statsButton">Stats</button>
                <div class="menu-container">
                    <button class="nav-button" onclick="toggleImportMenu()">Import/Export </button>
                    <div id="importMenu" class="menu-content">
                        <button class="nav-button" onclick="exportEncryptedEntries()">Save</button>
                        <button class="nav-button" onclick="importEncrypted()">Load</button>
                        <input type="file" id="encryptedFileInput" accept=".ejrn" style="display: none;" onchange="handleEncryptedFileSelect(event)">
                    </div>
                </div>
                <button class="nav-button" onclick="copyToClipboard()">Copy</button>
                <input type="file" id="fileInput" accept=".txt,.md" onchange="handleFileSelect(event)">
            </div>
        </div>

        <!-- Search -->
        <div class="search-container">
            <span class="search-icon"></span>
            <input type="text" class="search-input" id="searchInput" placeholder="Search entries..." oninput="handleSearch()">
        </div>

        <!-- Main content -->
        <div id="entriesView">
            <textarea 
                class="entry-input" 
                id="newEntry" 
                placeholder="What's on your mind? Use #tags and @mentions"
                onkeydown="handleKeyPress(event)"></textarea>
            
            <div id="entriesList"></div>
        </div>

        <div id="statsView" style="display: none">
            <div class="stats-grid" id="statsGrid"></div>
        </div>
    </div>

    <!-- Import Modal -->
    <div id="importModal" class="modal">
        <div class="modal-content">
            <button class="close-popup" onclick="closeImportModal()"></button>
            <h2>Import Text/Markdown</h2>
            <textarea id="markdownInput" placeholder="Paste your content here..."></textarea>
            <div>
                <button class="nav-button" onclick="importFromText()">Import</button>
                <button class="nav-button" onclick="closeImportModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Theme Popup -->
    <div class="overlay" id="overlay" onclick="closeAllPopups()"></div>
    <div class="theme-popup" id="theme-popup">
        <button class="close-popup" onclick="closeAllPopups()"></button>
        <h3>Style Settings</h3>
        <div class="theme-options">
            <div class="theme-row">
                <label for="theme-select">Style:</label>
                <select id="theme-select" onchange="changeTheme()">
                    <option value="default">Default</option>
                    <option value="cool">Cool</option>
                    <option value="journal">Journal</option>
                    <option value="typewriter">Typewriter</option>
                    <option value="minimalist">Minimalist</option>
                    <option value="nature">Nature</option>
                    <option value="focus">Focus</option>
                    <option value="ink">Ink</option>
                    <option value="zen">Zen</option>
                    <option value="vintage">Vintage</option>
                    <option value="sepia">Sepia</option>
                    <option value="terminal">Terminal</option>
                    <option value="gx">GX</option>
                    <option value="honeybee">Honey Bee</option>
                    <option value="forest">Forest</option>
                    <option value="ocean">Ocean</option>
                    <option value="sunset">Sunset</option>
                    <option value="lavender">Lavender</option>
                    <option value="mint">Mint</option>
                    <option value="cherry">Cherry</option>
                    <option value="coffee">Coffee</option>
                    <option value="arctic">Arctic</option>
                    <option value="desert">Desert</option>
                    <option value="galaxy">Galaxy</option>
                    <option value="bubblegum">Bubblegum</option>
                    <option value="zombie">Zombie</option>
                    <option value="unicorn">Unicorn</option>
                    <option value="retro">Retro</option>
                    <option value="alien">Alien</option>
                    <option value="neon">Neon</option>
                    <option value="mono-classic">Classic B&W</option>
                    <option value="playschool">Playschool</option>
                </select>
            </div>
            <div class="theme-row">
                <label>Mode:</label>
                <button class="nav-button" onclick="toggleDarkMode()">Light/Dark Mode</button>
            </div>
            <div class="theme-row">
                <label for="font-select">Font:</label>
                <select id="font-select" onchange="changeFont()">
                    <option value="monospace">Mono</option>
                    <option value="serif">Serif</option>
                    <option value="sans-serif">Sans-Serif</option>
                </select>
            </div>
        </div>
    </div>

    <div class="offline-indicator" id="offlineIndicator">
        Working Offline
    </div>

    <script>
        // State
        let entries = [];
        let tags = new Set();
        let mentions = new Set();
        let currentView = 'entries';

        // Config
        let versionNumber = "2.0.0";
        let isDarkMode = true;
        let currentTheme = 'zen';
        let currentFont = 'monospace';

        // Encryption Manager
        const EncryptionManager = {
            async generateKey(password) {
                const enc = new TextEncoder();
                const keyMaterial = await window.crypto.subtle.importKey(
                    "raw",
                    enc.encode(password),
                    "PBKDF2",
                    false,
                    ["deriveBits", "deriveKey"]
                );
                
                const salt = enc.encode("journalSalt");
                
                return window.crypto.subtle.deriveKey(
                    {
                        name: "PBKDF2",
                        salt: salt,
                        iterations: 100000,
                        hash: "SHA-256"
                    },
                    keyMaterial,
                    { name: "AES-GCM", length: 256 },
                    false,
                    ["encrypt", "decrypt"]
                );
            },

            async encrypt(content, password) {
                try {
                    const key = await this.generateKey(password);
                    const enc = new TextEncoder();
                    const iv = window.crypto.getRandomValues(new Uint8Array(12));
                    
                    const encrypted = await window.crypto.subtle.encrypt(
                        {
                            name: "AES-GCM",
                            iv: iv
                        },
                        key,
                        enc.encode(content)
                    );
                    
                    const combined = new Uint8Array(iv.length + encrypted.byteLength);
                    combined.set(iv);
                    combined.set(new Uint8Array(encrypted), iv.length);
                    
                    return btoa(String.fromCharCode(...combined));
                } catch (error) {
                    throw new Error("Encryption failed: " + error.message);
                }
            },

            async decrypt(encryptedContent, password) {
                try {
                    const key = await this.generateKey(password);
                    
                    const combined = new Uint8Array(
                        atob(encryptedContent).split('').map(char => char.charCodeAt(0))
                    );
                    
                    const iv = combined.slice(0, 12);
                    const data = combined.slice(12);
                    
                    const decrypted = await window.crypto.subtle.decrypt(
                        {
                            name: "AES-GCM",
                            iv: iv
                        },
                        key,
                        data
                    );
                    
                    return new TextDecoder().decode(decrypted);
                } catch (error) {
                    throw new Error("Decryption failed. Invalid password or corrupted file.");
                }
            }
        };

        // Create password modal on load
        document.addEventListener('DOMContentLoaded', function() {
            // Create and add password modal
            const modalHTML = `
                <div id="passwordModal" class="modal">
                    <div class="modal-content">
                        <button class="close-popup" onclick="closePasswordModal()"></button>
                        <h2 id="passwordModalTitle">Enter Password</h2>
                        <div id="passwordError" class="error-message" style="color: red; margin: 10px 0; display: none;"></div>
                        <div style="margin: 20px 0;">
                            <input type="password" id="passwordInput" class="search-input" 
                                    placeholder="Enter your password" style="margin: 10px 0;">
                            <div id="confirmPasswordDiv" style="display: none;">
                                <input type="password" id="confirmPasswordInput" class="search-input" 
                                        placeholder="Confirm your password" style="margin: 10px 0;">
                            </div>
                        </div>
                        <div>
                            <button class="nav-button" onclick="handlePasswordSubmit()">Submit</button>
                            <button class="nav-button" onclick="closePasswordModal()">Cancel</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Initialize application
            setInitialStates();
            renderEntries();
            updateStats();
        });

        // Menu functions
        function toggleImportMenu() {
            document.getElementById("importMenu").classList.toggle("show");
        }

        // Entry management
        function addEntry(content) {
            if (!content.trim()) return;

            const { title, content: bodyContent } = splitIntoTitleAndContent(content);
            const fullContent = bodyContent ? `${title}\n${bodyContent}` : title;

            const newEntry = {
                id: Date.now(),
                timestamp: new Date().toISOString(),
                content: fullContent,
                isHighlight: false,
                tags: extractTags(fullContent),
                mentions: extractMentions(fullContent)
            };

            entries.unshift(newEntry);
            updateTagsAndMentions(newEntry);
            renderEntries();
            updateStats();

            document.getElementById('newEntry').value = '';
        }

        function formatTimestamp(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }

        // Global encryption functions
        window.currentOperation = null;
        window.encryptedContent = null;

        window.showPasswordModal = function(operation, content = null) {
            window.currentOperation = operation;
            window.encryptedContent = content;
            
            const modal = document.getElementById('passwordModal');
            const confirmDiv = document.getElementById('confirmPasswordDiv');
            const title = document.getElementById('passwordModalTitle');
            const errorDiv = document.getElementById('passwordError');
            
            document.getElementById('passwordInput').value = '';
            if (document.getElementById('confirmPasswordInput')) {
                document.getElementById('confirmPasswordInput').value = '';
            }
            if (errorDiv) {
                errorDiv.style.display = 'none';
                errorDiv.textContent = '';
            }
            
            confirmDiv.style.display = operation === 'encrypt' ? 'block' : 'none';
            title.textContent = operation === 'encrypt' ? 'Set Password' : 'Enter Password';
            
            modal.style.display = 'block';
            document.getElementById('passwordInput').focus();
        };

        window.closePasswordModal = function() {
            const modal = document.getElementById('passwordModal');
            if (modal) {
                modal.style.display = 'none';
            }
            window.currentOperation = null;
            window.encryptedContent = null;
        };

        window.handlePasswordSubmit = async function() {
            const password = document.getElementById('passwordInput').value;
            
            if (!password) {
                showError('Please enter a password');
                return;
            }
            
            try {
                if (window.currentOperation === 'encrypt') {
                    const confirmPassword = document.getElementById('confirmPasswordInput').value;
                    if (password !== confirmPassword) {
                        showError('Passwords do not match');
                        return;
                    }
                    
                    const content = entries
                        .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))
                        .map(entry => {
                            const starMarker = entry.isHighlight ? '* ' : '';
                            return `[${formatTimestamp(new Date(entry.timestamp))}] ${starMarker}${entry.content}`;
                        })
                        .join('\n\n');

                    const encrypted = await EncryptionManager.encrypt(content, password);
                    const blob = new Blob([encrypted], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `j-${formatTimestamp(new Date()).split(' ')[0]}.ejrn`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    closePasswordModal();
                } else if (window.currentOperation === 'decrypt') {
                    const decrypted = await EncryptionManager.decrypt(window.encryptedContent, password);
                    parseAndLoadEntries(decrypted);
                    closePasswordModal();
                }
            } catch (error) {
                showError(error.message || 'An error occurred');
            }
        };

        window.showError = function(message) {
            const errorDiv = document.getElementById('passwordError');
            if (errorDiv) {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            }
        };

        window.exportEncryptedEntries = function() {
            showPasswordModal('encrypt');
        };

        window.importEncrypted = function() {
            const fileInput = document.getElementById('encryptedFileInput');
            if (fileInput) {
                fileInput.click();
            }
        };

        window.handleEncryptedFileSelect = function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const encryptedContent = e.target.result;
                showPasswordModal('decrypt', encryptedContent);
            };
            reader.readAsText(file);
            event.target.value = ''; // Reset input
        };

        // Utility functions
        function extractTags(content) {
            const matches = content.match(/#[\w-]+/g) || [];
            return new Set(matches);
        }

        function extractMentions(content) {
            const matches = content.match(/@[\w-]+/g) || [];
            return new Set(matches);
        }

        function updateTagsAndMentions(entry) {
            entry.tags.forEach(tag => tags.add(tag));
            entry.mentions.forEach(mention => mentions.add(mention));
        }

        function toggleHighlight(id) {
            const entry = entries.find(e => e.id === id);
            if (entry) {
                entry.isHighlight = !entry.isHighlight;
                renderEntries();
                updateStats();
            }
        }

        // Edit and Delete functions
        function startEditing(id) {
            const entry = entries.find(e => e.id === id);
            if (!entry) return;

            const contentContainer = document.getElementById(`content-${id}`);
            const currentContent = entry.content;

            const textarea = document.createElement('textarea');
            textarea.className = 'entry-input';
            textarea.value = currentContent;
            textarea.style.width = '100%';
            textarea.style.minHeight = '100px';
            textarea.dataset.originalContent = currentContent;

            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'edit-buttons';
            buttonContainer.style.marginTop = '8px';
            buttonContainer.innerHTML = `
                <button class="nav-button" onclick="saveEdit(${id})">Save</button>
                <button class="nav-button" onclick="cancelEdit(${id})">Cancel</button>
            `;

            contentContainer.innerHTML = '';
            contentContainer.appendChild(textarea);
            contentContainer.appendChild(buttonContainer);
            textarea.focus();
        }

        function saveEdit(id) {
            const entry = entries.find(e => e.id === id);
            const contentContainer = document.getElementById(`content-${id}`);
            const textarea = contentContainer.querySelector('textarea');
            
            if (!entry || !textarea) return;

            const newContent = textarea.value.trim();
            if (newContent !== '') {
                entry.content = newContent;
                entry.tags = extractTags(newContent);
                entry.mentions = extractMentions(newContent);
                
                tags.clear();
                mentions.clear();
                entries.forEach(updateTagsAndMentions);
                
                renderEntries();
                updateStats();
            }
        }

        function cancelEdit(id) {
            renderEntries();
        }

        function deleteEntry(id) {
            if (confirm('Are you sure you want to delete this entry?')) {
                entries = entries.filter(e => e.id !== id);
                tags.clear();
                mentions.clear();
                entries.forEach(updateTagsAndMentions);
                renderEntries();
                updateStats();
            }
        }

        function formatContent(content) {
            return content
                .replace(/#[\w-]+/g, match => `<span class="tag">${match}</span>`)
                .replace(/@[\w-]+/g, match => `<span class="mention">${match}</span>`);
        }

        // Entry rendering
        function renderEntries() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const sortType = document.getElementById('sortSelect').value;
            
            let filteredEntries = entries.filter(entry =>
                entry.content.toLowerCase().includes(searchTerm)
            );

            filteredEntries.sort((a, b) => {
                switch (sortType) {
                    case 'oldest':
                        return new Date(a.timestamp) - new Date(b.timestamp);
                    case 'longest':
                        return b.content.length - a.content.length;
                    case 'shortest':
                        return a.content.length - b.content.length;
                    case 'newest':
                    default:
                        return new Date(b.timestamp) - new Date(a.timestamp);
                }
            });

            const entriesHTML = filteredEntries.map(entry => {
                const lines = entry.content.split('\n');
                const title = lines[0];
                const content = lines.slice(1).join('\n');

                return `
                    <div class="entry ${entry.isHighlight ? 'highlight' : ''}" id="entry-${entry.id}">
                        <div class="entry-header">
                            <span class="timestamp">[${formatTimestamp(new Date(entry.timestamp))}]</span>
                            <div class="entry-content-container" id="content-${entry.id}">
                                <div class="title">${formatContent(title)}</div>
                                ${content ? `<div class="entry-content">${formatContent(content)}</div>` : ''}
                            </div>
                            <div class="entry-actions">
                                <button 
                                    class="star-button ${entry.isHighlight ? 'active' : ''}" 
                                    onclick="toggleHighlight(${entry.id})"
                                >
                                    ${entry.isHighlight ? '' : ''}
                                </button>
                                <button 
                                    class="edit-button"
                                    onclick="startEditing(${entry.id})"
                                >
                                    &#9998;
                                </button>
                                <button 
                                    class="delete-button"
                                    onclick="deleteEntry(${entry.id})"
                                >
                                    &#10005;
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('entriesList').innerHTML = entriesHTML;
        }

        // Stats functions
        function updateStats() {
            const stats = {
                'Total Entries': entries.length,
                'Highlights': entries.filter(e => e.isHighlight).length,
                'Average Length': Math.round(
                    entries.reduce((acc, entry) => acc + entry.content.length, 0) / 
                    (entries.length || 1)
                ),
                'Unique Tags': tags.size,
                'Unique Mentions': mentions.size
            };

            const statsHTML = Object.entries(stats).map(([key, value]) => `
                <div class="stat-card">
                    <div class="stat-title">${key}</div>
                    <div class="stat-value">${value}</div>
                </div>
            `).join('');

            document.getElementById('statsGrid').innerHTML = statsHTML;
        }

        // Import/Export Functions
        function showImportModal() {
            document.getElementById('importModal').style.display = 'block';
            document.getElementById('markdownInput').focus();
        }

        function closeImportModal() {
            document.getElementById('importModal').style.display = 'none';
            document.getElementById('markdownInput').value = '';
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const text = e.target.result;
                parseAndLoadEntries(text);
            };
            reader.readAsText(file);
            event.target.value = '';
        }

        function importFromText() {
            const text = document.getElementById('markdownInput').value;
            if (text.trim()) {
                parseAndLoadEntries(text);
                closeImportModal();
            }
        }

        function parseAndLoadEntries(text) {
            const entryBlocks = text.split('\n\n').filter(block => block.trim());
            
            const newEntries = entryBlocks.map(block => {
                const lines = block.trim().split('\n');
                const timestampMatch = lines[0].match(/\[(.*?)\]/);
                
                if (timestampMatch) {
                    const remainingContent = lines[0].substring(timestampMatch[0].length).trim();
                    const hasHighlight = remainingContent.startsWith('*');
                    const content = hasHighlight ? 
                        [remainingContent.substring(2).trim(), ...lines.slice(1)].join('\n') :
                        [remainingContent, ...lines.slice(1)].join('\n');
                    
                    return {
                        id: Date.now() + Math.random(),
                        timestamp: timestampMatch[1],
                        content: content.trim(),
                        isHighlight: hasHighlight,
                        tags: extractTags(content),
                        mentions: extractMentions(content)
                    };
                }
            }).filter(Boolean);
            
            newEntries.forEach(entry => {
                entries.unshift(entry);
                updateTagsAndMentions(entry);
            });
            
            renderEntries();
            updateStats();
        }

        function copyToClipboard() {
            const content = entries
                .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))
                .map(entry => {
                    const starMarker = entry.isHighlight ? '* ' : '';
                    return `[${formatTimestamp(new Date(entry.timestamp))}] ${starMarker}${entry.content}`;
                })
                .join('\n\n');

            navigator.clipboard.writeText(content)
                .then(() => alert('Entries copied to clipboard!'))
                .catch(err => alert('Failed to copy entries: ' + err));
        }

        // Theme functions
        function openThemePopup() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('theme-popup').style.display = 'block';
            document.body.classList.add('overlay-active');
        }

        function closeAllPopups() {
            document.getElementById('overlay').style.display = 'none';
            document.querySelectorAll('.theme-popup').forEach(popup => {
                popup.style.display = 'none';
            });
            document.body.classList.remove('overlay-active');
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            applyTheme();
        }

        function changeTheme() {
            currentTheme = document.getElementById('theme-select').value;
            applyTheme();
        }

        function changeFont() {
            currentFont = document.getElementById('font-select').value;
            applyFont();
        }

        function applyFont() {
            document.body.style.fontFamily = currentFont;
        }

        function applyTheme() {
            const mode = isDarkMode ? 'dark' : 'light';
            const theme = currentTheme || 'default'; // Fallback to default if theme isn't set
            
            const properties = [
                'text-color',
                'background-color',
                'container-background',
                'secondary-text',
                'border-color',
                'highlight-bg',
                'highlight-border',
                'button-bg',
                'button-active',
                'tag-color',
                'mention-color',
                'button-hover',
                'button-text-hover'
            ];

            properties.forEach(prop => {
                const value = `var(--${theme}-${mode}-${prop})`;
                document.documentElement.style.setProperty(`--${prop}`, value);
            });
            
            // Also apply the theme to the body
            document.body.style.backgroundColor = `var(--${theme}-${mode}-background-color)`;
            document.body.style.color = `var(--${theme}-${mode}-text-color)`;
        }

        function splitIntoTitleAndContent(text) {
            const sentenceRegex = /[.!?]\s+(?=[A-Z])/;
            const firstSentenceEnd = text.search(sentenceRegex);
            
            if (firstSentenceEnd === -1) {
                return {
                    title: text.trim(),
                    content: ''
                };
            }
            
            const title = text.slice(0, firstSentenceEnd + 1).trim();
            const content = text.slice(firstSentenceEnd + 1).trim();
            
            return { title, content };
        }

        // Event handlers
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                const content = event.target.value;
                addEntry(content);
            }
        }

        function handleSearch() {
            renderEntries();
        }

        function switchView(view) {
            currentView = view;
            document.getElementById('entriesView').style.display = view === 'entries' ? 'block' : 'none';
            document.getElementById('statsView').style.display = view === 'stats' ? 'block' : 'none';
            
            document.getElementById('entriesButton').classList.toggle('active', view === 'entries');
            document.getElementById('statsButton').classList.toggle('active', view === 'stats');

            if (view === 'stats') {
                updateStats();
            }
        }

        function setInitialStates() {
            // Set initial theme selection
            const themeSelect = document.getElementById('theme-select');
            for (let i = 0; i < themeSelect.options.length; i++) {
                if (themeSelect.options[i].value === currentTheme) {
                    themeSelect.selectedIndex = i;
                    break;
                }
            }

            // Set initial font selection
            const fontSelect = document.getElementById('font-select');
            for (let i = 0; i < fontSelect.options.length; i++) {
                if (fontSelect.options[i].value === currentFont) {
                    fontSelect.selectedIndex = i;
                    break;
                }
            }

            // Apply theme and font immediately
            applyTheme();
            applyFont();
        }

        // Offline detection
        function updateOfflineStatus() {
            const indicator = document.getElementById('offlineIndicator');
            if (!navigator.onLine) {
                indicator.style.display = 'block';
            } else {
                indicator.style.display = 'none';
            }
        }

        window.addEventListener('online', updateOfflineStatus);
        window.addEventListener('offline', updateOfflineStatus);

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize theme first
            setInitialStates();
            
            // Then initialize everything else
            updateOfflineStatus();
            renderEntries();
            updateStats();
        });

    </script>

    <footer>
        <p id="versionNumber"></p>
        <script>
            document.getElementById("versionNumber").innerHTML = "v" + versionNumber;
        </script>
    </footer>

</body>
</html>